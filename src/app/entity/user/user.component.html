<h1 class="Lister">Lister Utilisateur</h1>

<div class="mat-elevation-z8">
 <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

<!-- Name Column -->
<ng-container matColumnDef="avatar">
<th mat-header-cell *matHeaderCellDef> Avatar </th>
<td mat-cell *matCellDef="let user"> <img src="data:image/jpeg;base64,{{ user.avatar}}"  alt="aucune image"/></td>
</ng-container>
<!-- Name Column -->
<ng-container matColumnDef="nom">
  <th mat-header-cell *matHeaderCellDef> Nom </th>
  <td mat-cell *matCellDef="let user"> {{user.nom}} </td>
  </ng-container>

<!-- Name Column -->
<ng-container matColumnDef="prenom">
  <th mat-header-cell *matHeaderCellDef> Prenom </th>
  <td mat-cell *matCellDef="let user"> {{user.prenom}} </td>
  </ng-container>

  <!-- Name Column -->
<ng-container matColumnDef="email">
  <th mat-header-cell *matHeaderCellDef> Email </th>
  <td mat-cell *matCellDef="let user"> {{user.email}} </td>
  </ng-container>

  <!-- Name Column -->
<ng-container matColumnDef="type">
  <th mat-header-cell *matHeaderCellDef> Type </th>
  <td mat-cell *matCellDef="let user"> {{user.profil.libelle}} </td>
  </ng-container>

<!-- Name Column -->
<ng-container matColumnDef="sup">
<th mat-header-cell *matHeaderCellDef> Supprimer </th>
<td mat-cell *matCellDef="let user"> <a (click)="removeUser(user.id)"ng-click="alert()"(click)="openModal(modalDel)"><mat-icon>delete_sweep</mat-icon> </a></td>
</ng-container>

<!-- Name Column -->
<ng-container matColumnDef="mod">
<th mat-header-cell *matHeaderCellDef> Modifier</th>
<td mat-cell *matCellDef="let user">	<a routerLink="#"><mat-icon>create</mat-icon> </a></td>
</ng-container>

<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<p class="pagi">  <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator></p>
</div>

<ng-template #modalDel let-modal>
  <div class="modal-header">

    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
  <h2> Voulez-vous vraiment vous Supprimer ??</h2>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="modal.close('Save click')">Valider</button>
  <!--- <button type="button" class="btn btn-primary" (click)="logout()" >Valider</button>-->
  </div>
</ng-template>